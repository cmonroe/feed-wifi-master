--- a/net/mac80211/sta_info.c
+++ b/net/mac80211/sta_info.c
@@ -2422,6 +2422,13 @@ static void sta_stats_decode_rate(struct
 
 		sband = local->hw.wiphy->bands[band];
 
+		if (!sband) {
+			wiphy_debug(local->hw.wiphy,
+				    "Invalid band %d\n",
+				    band);
+			break;
+		}
+
 		if (WARN_ON_ONCE(!sband->bitrates))
 			break;
 
